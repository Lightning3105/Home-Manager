(function(t){function e(e){for(var n,o,c=e[0],i=e[1],d=e[2],l=0,f=[];l<c.length;l++)o=c[l],s[o]&&f.push(s[o][0]),s[o]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n]);u&&u(e);while(f.length)f.shift()();return r.push.apply(r,d||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],n=!0,c=1;c<a.length;c++){var i=a[c];0!==s[i]&&(n=!1)}n&&(r.splice(e--,1),t=o(o.s=a[0]))}return t}var n={},s={app:0},r=[];function o(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=n,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(a,n,function(e){return t[e]}.bind(null,n));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],i=c.push.bind(c);c.push=e,c=c.slice();for(var d=0;d<c.length;d++)e(c[d]);var u=i;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"067e":function(t,e,a){"use strict";var n=a("4632"),s=a.n(n);s.a},"106f":function(t,e,a){},1100:function(t,e,a){t.exports=a.p+"img/background.711a161f.jpg"},2086:function(t,e,a){},3410:function(t,e,a){"use strict";var n=a("a18a"),s=a.n(n);s.a},4152:function(t,e,a){},"41c5":function(t,e,a){},"423d":function(t,e,a){},4632:function(t,e,a){},4678:function(t,e,a){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function s(t){var e=r(t);return a(e)}function r(t){var e=n[t];if(!(e+1)){var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}return e}s.keys=function(){return Object.keys(n)},s.resolve=r,t.exports=s,s.id="4678"},"53a6":function(t,e,a){"use strict";var n=a("4152"),s=a.n(n);s.a},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c");var n=a("2b0e"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"app",attrs:{id:"app"}},[a("dashboard",{attrs:{id:"dash"}})],1)},r=[],o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("img",{staticClass:"background",attrs:{src:a("1100")}}),n("div",{staticClass:"shade"}),n("schedule"),n("actions"),n("messages"),n("weather"),n("Clock")],1)},c=[],i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:{parent:!0,large:t.clockMode}},[a("div",{staticClass:"black"}),a("div",{staticClass:"main"},[a("p",{staticClass:"time",domProps:{textContent:t._s(t.currentTime)}}),a("p",{staticClass:"time date",domProps:{textContent:t._s(t.date)}})]),a("p",{staticClass:"time seconds",domProps:{textContent:t._s(t.seconds)}}),t.clockMode?a("div",{staticClass:"bcontainer"},[a("action-button",{attrs:{data:{icon:"power-off",url:"/dashboard/screen/toggle",background:"ambient"}}})],1):t._e()])},d=[],u=a("c1df"),l=a.n(u),f=a("bc3a"),m=a.n(f),h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"button",style:{background:t.background},on:{click:t.go}},[a("fa-icon",{class:{spin:t.sending},attrs:{name:t.icon,scale:t.scale,color:t.colour}})],1)},b=[],g=a("0874"),j=new n["a"],v={name:"ActionButton",props:["data"],components:{FaIcon:g["a"]},data:function(){return{background:"black",scale:2.5,colour:"white",icon:this.data.icon,sending:!1}},methods:{go:function(){var t=this;this.icon="sync",this.sending=!0,m.a.get(window.APIROOT+this.data.url).then(function(){t.icon=t.data.icon,t.sending=!1,j.$emit("buttonclick",t.data.url),"getpower"==t.data.background&&(t.getBackground(),setTimeout(function(){return t.getBackground()},1e3),setTimeout(function(){return t.getBackground()},3e3))}).catch(function(e){console.log(e),t.icon=t.data.icon,t.sending=!1})},getBackground:function(){var t=this;"getmodes"==this.data.background?m.a.get(window.APIROOT+this.data.url+"/get").then(function(e){var a=[e.data.main,e.data.led];t.background="linear-gradient(315deg, ".concat(a[1]," 0%, ").concat(a[0]," 74%)")}):"getpower"==this.data.background?m.a.get(window.APIROOT+"/lights/on/get").then(function(e){2===e.data&&(t.background="linear-gradient(315deg, #00b712 0%, #5aff15 74%)"),1===e.data&&(t.background="linear-gradient(315deg, #42378f 0%, #f53844 74%)"),0===e.data&&(t.background="linear-gradient(315deg, #a40606 0%, #d98324 74%)")}):"ambient"==this.data.background?(this.background="transparent",this.scale=.6,this.colour="rgba(127, 127, 127, 0.8)"):this.background=this.data.background}},created:function(){var t=this;this.getBackground(),"getpower"==this.data.background&&setInterval(function(){return t.getBackground()},6e4)}},p=v,k=(a("5973"),a("2877")),y=Object(k["a"])(p,h,b,!1,null,"bd455d3c",null),T=y.exports,w={name:"Clock",components:{ActionButton:T},data:function(){return{currentTime:null,seconds:null,clockMode:!1}},methods:{updateCurrentTime:function(){this.currentTime=l()().format("h:mm"),this.seconds=l()().format("ss")},checkClockMode:function(){var t=this;m.a.get(window.APIROOT+"/dashboard/screen/get").then(function(e){var a=e.data;t.clockMode=1==a})}},computed:{date:function(){return l()().format("dddd, MMMM Do")}},created:function(){var t=this;this.currentTime=l()().format("h:mm"),this.seconds=l()().format("ss"),this.checkClockMode(),setInterval(function(){return t.updateCurrentTime()},1e3),setInterval(function(){return t.checkClockMode()},18e4),j.$on("buttonclick",function(e){"/dashboard/screen/toggle"==e&&(setTimeout(function(){return t.checkClockMode()},100),setTimeout(function(){return t.checkClockMode()},3e3))})}},_=w,D=(a("f45e"),Object(k["a"])(_,i,d,!1,null,"820e5160",null)),Y=D.exports,M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"schedule"}},t._l(Object.keys(t.fiveDays),function(e){return a("day",{key:e,attrs:{events:t.fiveDays[e],date:e}})}))},O=[],C=(a("55dd"),a("456d"),a("6762"),a("2fdb"),a("ac6a"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:{day:!0,today:t.today}},[a("h1",[t._v(t._s(t.title))]),t.monthday?a("span",{staticClass:"date"},[t._v(t._s(t.monthday))]):t._e(),a("div",{staticClass:"events"},[t._l(t.events,function(e){return a("event",{key:e.id,attrs:{data:e,split:t.sameTime.includes(e.start.dateTime)}})}),0==t.events.length?a("v-icon",{staticClass:"noevents",attrs:{scale:"6",name:"grin"}}):t._e()],2)])}),S=[],x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:{event:!0,split:t.split},style:t.addStyle},[a("p",{staticClass:"summary"},[t._v(t._s(t.formatSummary))]),a("p",{staticClass:"time"},[t._v(t._s(t.time))]),a("p",{staticClass:"time"},[t._v(t._s(t.duration))])])},z=[],E=(a("28a5"),{name:"Event",props:["data","split"],data:function(){return{time:"",duration:""}},methods:{isToday:function(){return l()().format("YYYY/MM/DD")===l()(this.data.start.dateTime).format("YYYY/MM/DD")},setTime:function(){this.isToday()?(this.time=l()(this.data.start.dateTime).format("hh:mm a")+" - "+l()(this.data.start.dateTime).fromNow(),this.duration="➜ "+l()(this.data.start.dateTime).format("hh:mm a")+" "+this.getDuration(this.data.start.dateTime,this.data.end.dateTime)):(this.time=l()(this.data.start.dateTime).format("hh:mm a"),this.duration=this.getDuration(this.data.start.dateTime,this.data.end.dateTime))},getDuration:function(t,e){return l()(e).diff(l()(t),"hours")>0?"("+l()(e).diff(l()(t),"hours")+" hour"+(1===l()(e).diff(l()(t),"hours")?"":"s")+")":"("+l()(e).diff(l()(t),"minutes")+" minutes)"}},created:function(){var t=this;this.setTime(),setInterval(function(){return t.setTime()},6e4)},computed:{addStyle:function(){var t="white";switch(this.data.organizer.displayName){case"University":t="lime";break;case"My Timetable":case"https://timetable.soton.ac.uk/Feed/Index/-mrhDMAnBJEkGsNWu6FY4HCudyzieLwONcOi_tKXL_uGh0lgt5UDVGXWTvgjWQV8FhvWSlFrnZ5wHAy4lRQOcg2":t="orange";break;case"James Waters":t="deepskyblue";break}return{"background-color":t}},formatSummary:function(){var t=40;return this.split&&(t=30),this.isToday()&&(t*=1.4),this.data.summary.length<t?this.data.summary:this.data.summary.substring(0,t-6)+"..."}}}),I=E,P=(a("3410"),Object(k["a"])(I,x,z,!1,null,"72593931",null)),A=P.exports,$={name:"Day",props:["events","date"],data:function(){return{today:!1}},components:{Event:A},methods:{testDay:function(){this.today=l()().format("YYYY/MM/DD")===this.date&&this.events.length>0}},created:function(){var t=this;this.testDay(),setInterval(function(){return t.testDay()},18e5)},computed:{title:function(){return l()(this.date).format("dddd")},monthday:function(){return l()().format("YYYY/MM/DD")!==this.date&&l()(this.date).format("Do")},addStyle:function(){if(l()().format("YYYY/MM/DD")===this.date&&this.events.length>0)return{width:"50%"}},sameTime:function(){var t=[],e=[];for(var a in this.events)t.includes(this.events[a].start.dateTime)&&e.push(this.events[a].start.dateTime),t.push(this.events[a].start.dateTime);return e}}},B=$,N=(a("a768"),Object(k["a"])(B,C,S,!1,null,"0f830d03",null)),R=N.exports,W={name:"Schedule",components:{Day:R},data:function(){return{days:{},fetched:!1}},methods:{fetchData:function(){var t=this;m.a.get(window.APIROOT+"/calendar/events").then(function(e){t.days=[],e.data.forEach(function(t){this.fetched=!1,t.start.dateTime?t.start.dateTime=l()(t.start.dateTime).format("YYYY-MM-DDTHH:mm:ss.SSSZ"):t.start.dateTime=l()(t.start.date).format("YYYY-MM-DDTHH:mm:ss.SSSZ");var e=l()(t.start.dateTime);Object.keys(this.days).includes(e.format("YYYY/MM/DD"))?this.days[e.format("YYYY/MM/DD")].push(t):this.days[e.format("YYYY/MM/DD")]=[t],this.fetched=!0},t)})}},created:function(){var t=this;this.fetchData(),setInterval(function(){return t.fetchData()},9e5)},computed:{fiveDays:function(){if(!this.fetched)return{};for(var t={},e=0;e<5;e++){var a=l()().add(e,"days").format("YYYY/MM/DD");console.log(a,this.days),t[a]=this.days[a]||[],t[a].sort(function(t,e){return l()(t.start.dateTime)-l()(e.start.dateTime)})}return t}}},F=W,H=(a("c773"),Object(k["a"])(F,M,O,!1,null,"254a9518",null)),J=H.exports,L=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"actions"},t._l(t.buttons,function(t){return a("action-button",{key:t.url,attrs:{data:t}})}))},U=[],G={name:"Actions",components:{ActionButton:T},data:function(){return{buttons:[{icon:"lightbulb",url:"/lights/toggle",background:"getpower"},{icon:"sun",url:"/lights/mode/day",background:"getmodes"},{icon:"regular/sun",url:"/lights/mode/evening",background:"getmodes"},{icon:"regular/moon",url:"/lights/mode/night",background:"getmodes"},{icon:"moon",url:"/lights/mode/dark",background:"getmodes"},{icon:"power-off",url:"/dashboard/screen/toggle",background:"linear-gradient(90deg, #4b6cb7 0%, #182848 100%)"}]}}},Z=G,q=(a("8dbd"),Object(k["a"])(Z,L,U,!1,null,"1c72ccfa",null)),Q=q.exports,V=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"messages"},[a("h4",[t._v(t._s(t.message1))]),a("h4",[t._v(t._s(t.message2))])])},X=[],K={name:"Messages",data:function(){return{message1:"",message2:"",firstTime:null}},methods:{fetchData:function(){var t=this;m.a.get(window.APIROOT+"/calendar/first").then(function(e){e.data?t.firstTime=l()(e.data):t.firstTime=null,t.setTime()})},setTime:function(){var t,e;this.firstTime?(t=l()(this.firstTime),e="need to"):(e="should",t=l()().hour()<=5?l()().hour(9).minute(0).second(0).millisecond(0):l()().add(1,"days").hour(9).minute(0).second(0).millisecond(0)),this.message1="You ".concat(e," wake up for ").concat(t.format("hh:mm a"),", in ").concat(t.fromNow()," time");var a=t.subtract(9.5,"hours");this.message2="You should go to sleep in ".concat(a.fromNow(),", at ").concat(a.format("h:mm"))}},created:function(){var t=this;this.fetchData(),setInterval(function(){return t.fetchData()},18e5),setInterval(function(){return t.setTime()},3e4)}},tt=K,et=(a("9aa7"),Object(k["a"])(tt,V,X,!1,null,"79d9a465",null)),at=et.exports,nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("weather",{attrs:{"api-key":"f2939a02e9b96fd87b67b9bd8df2be53",title:"Weather",latitude:"50.9403502",longitude:"-1.401844",language:"en",units:"uk","bar-color":"white","text-color":"white"}})},st=[],rt=a("a9b4"),ot=a.n(rt),ct=(a("f04d"),{name:"Weather",components:{weather:ot.a}}),it=ct,dt=(a("6ded"),Object(k["a"])(it,nt,st,!1,null,null,null)),ut=dt.exports,lt={name:"Dashboard",components:{Clock:Y,Schedule:J,Actions:Q,Messages:at,Weather:ut},methods:{}},ft=lt,mt=(a("53a6"),Object(k["a"])(ft,o,c,!1,null,null,null)),ht=mt.exports,bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"parent"})},gt=[],jt={name:"Camera"},vt=jt,pt=(a("067e"),Object(k["a"])(vt,bt,gt,!1,null,"395d28f0",null)),kt=pt.exports,yt={name:"app",components:{Dashboard:ht,Camera:kt},data:function(){return{lastScroll:0,scrolling:!1}},computed:{screenSize:function(){return{x:screen.width,y:screen.height}}},methods:{onScroll:function(t){var e=this;if(!this.scrolling){var a=document.documentElement.scrollTop;a!==this.lastScroll&&(a>this.lastScroll?(document.documentElement.scroll({top:534,left:0,behavior:"smooth"}),this.lastScroll=534):(document.documentElement.scroll({top:0,left:0,behavior:"smooth"}),this.lastScroll=0),this.scrolling=!0,setTimeout(function(){e.scrolling=!1,e.onScroll()},1e3))}}},created:function(){},destroyed:function(){window.removeEventListener("scroll",this.onScroll)}},Tt=yt,wt=(a("5c0b"),Object(k["a"])(Tt,s,r,!1,null,null,null)),_t=wt.exports;a("d06d");n["a"].config.productionTip=!1,window.APIROOT="http://192.168.1.6/api",n["a"].component("v-icon",g["a"]),new n["a"]({render:function(t){return t(_t)}}).$mount("#app")},5973:function(t,e,a){"use strict";var n=a("83f0"),s=a.n(n);s.a},"5c0b":function(t,e,a){"use strict";var n=a("106f"),s=a.n(n);s.a},"6ded":function(t,e,a){"use strict";var n=a("8169"),s=a.n(n);s.a},8169:function(t,e,a){},"83f0":function(t,e,a){},"8bc4":function(t,e,a){},"8dbd":function(t,e,a){"use strict";var n=a("41c5"),s=a.n(n);s.a},"9aa7":function(t,e,a){"use strict";var n=a("2086"),s=a.n(n);s.a},a18a:function(t,e,a){},a768:function(t,e,a){"use strict";var n=a("423d"),s=a.n(n);s.a},c773:function(t,e,a){"use strict";var n=a("8bc4"),s=a.n(n);s.a},f1f6:function(t,e,a){},f45e:function(t,e,a){"use strict";var n=a("f1f6"),s=a.n(n);s.a}});
//# sourceMappingURL=app.c6c25f01.js.map